<!DOCTYPE html>
<html>
<head>
	<title>AlgoView</title>
	<link rel="stylesheet" href="../third-party/codemirror/lib/codemirror.css">
	<link rel="stylesheet" href="tree.css">

	<script src="../third-party/jquery.js"></script>
	<script src="../third-party/codemirror/lib/codemirror.js"></script>

	<!-- <CodeMirror Plugins> -->
	<script src="../third-party/codemirror/lib/util/simple-hint.js"></script>
	<link rel="stylesheet" href="../third-party/codemirror/lib/util/simple-hint.css">
	<script src="../third-party/codemirror/lib/util/javascript-hint.js"></script>

	<script src="../third-party/codemirror/lib/util/foldcode.js"></script>
	<!-- </CodeMirror Plugins> -->

	<script src="../third-party/codemirror/mode/javascript/javascript.js"></script>
	<script data-main="tree" src="../third-party/treehugger/lib/require.js"></script>
</head>
<body>
	<a href="/">AlgoView</a>
	<div id="mainContainer">
		<div class="float-wrap">
			<div>
				<textarea id="mainEditor">function binarySearch (key, array) {
	var low = 0;
	var high = array.length - 1;
	var mid, value;
	var test = 0;

	while (low <= high) {
		test++;
		mid = floor((low + high) / 2);
		value = array[mid];

		if (value < key) {
			low = mid + 1;
		} else if (value > key) {
			high = mid - 1;
		} else {
			return mid;
		}
	}
	return -1;
}</textarea>
			</div>
			<div>
				<textarea id="astEditor"></textarea>
			</div>
		</div>
		<div class="float-wrap">
			<div>
				<button id="runButton">Run</button>
				<textarea id="analysisEditor">$(".marked").removeClass("marked");
var query = 'Assign(_, _)';
ast.collectTopDown(
	query
).log();
log("=================");
ast.traverseTopDown(
	query,
    function(b, node) {
        var pos = node.getPos();
        log(JSON.stringify(pos));
        editor.markText(
          {line: pos.sl, ch: pos.sc},
          {line: pos.el, ch: pos.ec},
          "marked"
        );
    }
);
/*
var nodes = [];
var queue = [ast];

while (queue.length > 0) {
	var node = queue.shift();
    nodes.push(node);
    var innerNodes = node;
    for (var i = 0; i < innerNodes.length; i++) {
    	queue.push(innerNodes[i]);
    }
}

function highLightNode() {
	if (nodes.length === 0) {
    	window.clearInterval(this);
    } else {
		$(".marked").each(function() {
        	$(this).attr("class", $(this).attr("class").replace(/marked/g, ""));
        })

    	var node = nodes.shift();
        var pos = node.getPos();

        editor.markText(
          {line: pos.sl, ch: pos.sc},
          {line: pos.el, ch: pos.ec},
          "marked"
        );
    }
}

window.setInterval(highLightNode, 150);
*/</textarea>
			</div>
			<div>
				<textarea id="output"></textarea>
			</div>
		</div>
	</div>
</body>
</html>